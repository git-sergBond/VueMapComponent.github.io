<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>компонент карты</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />    
</head>
<body> 
    <div id="app" >
        <div class="search">
            <div>
                <select v-model='cur_category' @change="change_category_event">
                    <option disabled value="">Выберите категорию</option>
                    <option v-for="cat in categories">{{ cat }}</option>
                </select>
            </div>
            <input type="text" v-model="message">
            <p @click='click_btn_search'>
                <img src="images/icons/search.png"> Найти</p>
        </div>
        <div class="map-comp" 
            @mouseup='mouseup_event_DrawPolygonByFinger'
            @mousedown='mousedown_event_DrawPolygonByFinger'
            ><yandex-map class="ymap" zoom="8" :coords="coords" @map-was-initialized="initHandler"></yandex-map>
            <div class="place-info" v-for='item in placemarks' v-show='is_equals_coords(item.coords)'>
                <img :src="item.imageUrl">
                <p>
                    <b>{{item.name}}</b>
                    <br>{{item.address}}
                    <br>{{item.phoneNumber}}
                    <br>{{item.price}} (Руб.)
                    <br>
                    <span v-for='i in [1,2,3,4,5]' :class="{ 'on-star': (i <= item.stars) }">*</span>
                    <span>Отзывы ({{item.countReviews}})</span>
                </p>            
            </div>
            <div class="map-comp--buttons">
                <button v-show='stateApp == 0' @click='click_btn_Start_Edit' class="white-button">Нарисовать область</button>
                <button v-show='stateApp == 1 || stateApp == 2' @click='click_btn_Clear' class="white-button">Очистить</button>
            </div>
        </div>
        <div style="margin: 10px 1.3rem 0 1.3rem">
            <div  v-show='placemarks.length != 0 && tags.length != 0'>
                <p><b>Уточните категорию</b></p>
                <div class="app--categories">
                    <p v-for='tag in tags' @click='click_btn_changeTag(tag)' class="white-button" >{{ tag }}</p>
                    <p @click='click_btn_ShowAllTags' class="white-button" >Показать все</p>
                </div>  
            </div>

            <div class="app--near-you" v-show='shares.length != 0'>
                <p >
                    <b>Рядом с вами</b>
                </p>
                <div class="card-container">
                    <div v-for='item in shares' @click="click_on_card(item.coords)" class="card"
                        :class="{'on-card': is_equals_coords(item.coords)}">
                        <div class="info_with_photo">
                            <img :src="item.imageUrl">
                            <p style="margin-left: 32%">
                                <b>{{item.name}}</b>
                                <br>{{item.address}}
                                <br>{{item.phoneNumber}}
                                <br><span v-for='i in [1,2,3,4,5]' :class="{ 'on-star': (i <= item.stars) }">*</span>
                                <span>Отзывы ({{item.countReviews}})</span>
                            </p>
                        </div>
                        <p class="green-button">
                            <img src="images/icons/let.png"> Написать сообщение
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="dist/bundle.js"></script>
</body>
</html>